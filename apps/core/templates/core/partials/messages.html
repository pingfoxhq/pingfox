{% if messages %}
<div
  x-data="{
    toasts: [
      {% for message in messages %}
      {
        message: '{{ message|escapejs }}',
        tags: '{{ message.tags }}'
      },
      {% endfor %}
    ]
  }"
  x-init="
    setTimeout(() => {
      toasts = [];
    }, 4000);
  "
  style="position: fixed; top: 1rem; right: 1rem; z-index: 9999;"
>
  <template x-for="(msg, idx) in toasts" :key="idx">
    <div
      x-show="true"
      x-transition
      class="notification"
      :class="{
        'is-success': msg.tags === 'success',
        'is-danger': msg.tags === 'error',
        'is-warning': msg.tags === 'warning',
        'is-info': !['success', 'error', 'warning'].includes(msg.tags)
      }"
      style="min-width: 500px; margin-bottom: 0.75rem;"
    >
      <button class="delete" @click="toasts.splice(idx, 1)"></button>
      <strong x-text="msg.message"></strong>
    </div>
  </template>
</div>
{% endif %}

<style>
  [x-cloak] { display: none; }
  .notification {
    animation: slideIn 0.1s ease-out;
  }

  @keyframes slideIn {
    from {
      transform: translateX(100%);
    }

    to {
      transform: translateX(0);
    }
  }
</style>
